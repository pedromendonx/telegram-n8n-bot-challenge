{
  nodes [
    {
      parameters {
        updates [
          message
        ],
        additionalFields {}
      },
      type n8n-nodes-base.telegramTrigger,
      typeVersion 1.2,
      position [
        -2544,
        -1168
      ],
      id eb8e2b9e-2937-43bd-9400-74035d3bb9ec,
      name Telegram Trigger,
      webhookId 4edf7bf9-9239-4f48-b764-7f5c357a511b,
      credentials {
        telegramApi {
          id X35cPM5jW5JYy08n,
          name Telegram account
        }
      }
    },
    {
      parameters {
        chatId ={{ $('Edit Fields').item.json.IdConversa }},
        text Mande o texto que você quer tranformar em pdf. ,
        replyMarkup =,
        forceReply {},
        replyKeyboardOptions {},
        replyKeyboardRemove {},
        additionalFields {
          appendAttribution false
        }
      },
      type n8n-nodes-base.telegram,
      typeVersion 1.2,
      position [
        -752,
        -2048
      ],
      id aea29872-74d4-44de-843c-d9615248a7fc,
      name Send a text message,
      webhookId d583b3e8-ab62-40dc-b3b9-f24d6cc09ce0,
      notesInFlow false,
      retryOnFail false,
      alwaysOutputData false,
      credentials {
        telegramApi {
          id X35cPM5jW5JYy08n,
          name Telegram account
        }
      }
    },
    {
      parameters {
        rules {
          values [
            {
              conditions {
                options {
                  caseSensitive true,
                  leftValue ,
                  typeValidation strict,
                  version 2
                },
                conditions [
                  {
                    leftValue ={{ $('Edit Fields').item.json.Mensagem }},
                    rightValue criardocs,
                    operator {
                      type string,
                      operation equals
                    },
                    id 11bfaeae-9489-42b0-a3bb-bccb6009868e
                  }
                ],
                combinator and
              },
              renameOutput true,
              outputKey CriarDOCS
            },
            {
              conditions {
                options {
                  caseSensitive true,
                  leftValue ,
                  typeValidation strict,
                  version 2
                },
                conditions [
                  {
                    id 77590a18-61a4-4a1f-b642-448177325946,
                    leftValue ={{ $('Edit Fields').item.json.Mensagem }},
                    rightValue inserirtextimg,
                    operator {
                      type string,
                      operation equals,
                      name filter.operator.equals
                    }
                  }
                ],
                combinator and
              },
              renameOutput true,
              outputKey inserirTEXTOIMG
            },
            {
              conditions {
                options {
                  caseSensitive true,
                  leftValue ,
                  typeValidation strict,
                  version 2
                },
                conditions [
                  {
                    id d3b43b85-8aaf-4e28-b553-fdddc6e2dffd,
                    leftValue ={{ $('Edit Fields').item.json.Mensagem }},
                    rightValue buscarnoticia,
                    operator {
                      type string,
                      operation equals,
                      name filter.operator.equals
                    }
                  }
                ],
                combinator and
              },
              renameOutput true,
              outputKey buscarNoticia
            },
            {
              conditions {
                options {
                  caseSensitive true,
                  leftValue ,
                  typeValidation strict,
                  version 2
                },
                conditions [
                  {
                    id 52011f99-55f0-4d8d-919f-9e9b591ebef3,
                    leftValue ={{ $('Edit Fields').item.json.Mensagem }},
                    rightValue transcreveraudio,
                    operator {
                      type string,
                      operation equals,
                      name filter.operator.equals
                    }
                  }
                ],
                combinator and
              },
              renameOutput true,
              outputKey TranscreverAudio
            },
            {
              conditions {
                options {
                  caseSensitive true,
                  leftValue ,
                  typeValidation strict,
                  version 2
                },
                conditions [
                  {
                    id 87e0ff60-d0c0-44d5-a736-8edb89958176,
                    leftValue ={{ $('Edit Fields').item.json.Mensagem }},
                    rightValue ,
                    operator {
                      type string,
                      operation notStartsWith
                    }
                  }
                ],
                combinator and
              },
              renameOutput true,
              outputKey errorMessage
            }
          ]
        },
        options {}
      },
      type n8n-nodes-base.switch,
      typeVersion 3.3,
      position [
        -1264,
        -1488
      ],
      id 597c92bb-5e73-4270-a7e2-fc67ddc01b44,
      name Switch
    },
    {
      parameters {
        operation copy,
        fileId {
          __rl true,
          value [REDACTED_GOOGLE_DOC_ID_MODELO_1],
          mode list,
          cachedResultName papel timbrado base,
          cachedResultUrl httpsdocs.google.comdocumentd[REDACTED_GOOGLE_DOC_ID_MODELO_1]editusp=drivesdk
        },
        name CopiaDoUsuario,
        options {
          copyRequiresWriterPermission false
        }
      },
      type n8n-nodes-base.googleDrive,
      typeVersion 3,
      position [
        -1088,
        -832
      ],
      id 179e2354-3b32-4eb6-b550-c2afce1efc54,
      name Copy file,
      credentials {
        googleDriveOAuth2Api {
          id C5TluDdCys9B9LeO,
          name Google Drive account
        }
      }
    },
    {
      parameters {
        operation update,
        documentURL ={{ $json.id }},
        actionsUi {
          actionFields [
            {
              action insert,
              text ={{ $('Edit Fields').item.json.Mensagem }}
            }
          ]
        }
      },
      type n8n-nodes-base.googleDocs,
      typeVersion 2,
      position [
        -896,
        -832
      ],
      id de39b6ff-ff47-480c-af16-2ce93cf6988e,
      name Update a document,
      credentials {
        googleDocsOAuth2Api {
          id uKBTX6RUYb3SUNUi,
          name Google Docs account
        }
      }
    },
    {
      parameters {
        operation sendDocument,
        chatId ={{ $('Edit Fields').item.json.IdConversa }},
        file ={{ $json[] }},
        additionalFields {}
      },
      type n8n-nodes-base.telegram,
      typeVersion 1.2,
      position [
        -304,
        -832
      ],
      id 64de7e86-2886-4b95-91eb-6b08a83ed559,
      name Send a document,
      webhookId 24f9f7a5-42ec-4a1d-92f3-93599b94c3cd,
      credentials {
        telegramApi {
          id X35cPM5jW5JYy08n,
          name Telegram account
        }
      }
    },
    {
      parameters {
        operation share,
        fileId {
          __rl true,
          value ={{ $json.documentId }},
          mode id
        },
        permissionsUi {
          permissionsValues {
            role reader,
            type anyone
          }
        },
        options {}
      },
      type n8n-nodes-base.googleDrive,
      typeVersion 3,
      position [
        -688,
        -832
      ],
      id 334489de-d44b-4888-9d29-d4a936e37b8f,
      name Share file,
      credentials {
        googleDriveOAuth2Api {
          id C5TluDdCys9B9LeO,
          name Google Drive account
        }
      }
    },
    {
      parameters {
        assignments {
          assignments [
            {
              id 3d7e7fe2-9ba8-4a55-aca1-f74de46002af,
              name ,
              value =httpsdocs.google.comdocumentd{{ $('Copy file').item.json.id }}exportformat=pdf ,
              type string
            }
          ]
        },
        options {}
      },
      type n8n-nodes-base.set,
      typeVersion 3.4,
      position [
        -480,
        -832
      ],
      id eb1eb937-0b08-48b0-9a16-aafd91e53f53,
      name Edit Fields2
    },
    {
      parameters {},
      type n8n-nodes-base.noOp,
      typeVersion 1,
      position [
        288,
        -832
      ],
      id 396c32e3-34e8-48f2-81cd-84395912b23b,
      name No Operation, do nothing1
    },
    {
      parameters {
        chatId ={{ $('Edit Fields').item.json.IdConversa }},
        text O escopo do arquivo está definido assim nnimgnnntextonnPorém, vamos fazer passo a passo. Envie seu texto!,
        replyMarkup =,
        forceReply {},
        replyKeyboardOptions {},
        replyKeyboardRemove {},
        additionalFields {
          appendAttribution false
        }
      },
      type n8n-nodes-base.telegram,
      typeVersion 1.2,
      position [
        -752,
        -1856
      ],
      id 37587670-dcb5-499b-b2a9-e5021d19424f,
      name Send a text message1,
      webhookId d583b3e8-ab62-40dc-b3b9-f24d6cc09ce0,
      notesInFlow false,
      retryOnFail false,
      alwaysOutputData false,
      credentials {
        telegramApi {
          id X35cPM5jW5JYy08n,
          name Telegram account
        }
      }
    },
    {
      parameters {},
      type n8n-nodes-base.noOp,
      typeVersion 1,
      position [
        -336,
        -1856
      ],
      id bbda1970-6383-4abb-b075-6a39c4d47726,
      name No Operation, do nothing2
    },
    {
      parameters {
        resource file,
        fileId ={{ $('Edit Fields').item.json.message.photo[0].file_id }},
        additionalFields {}
      },
      type n8n-nodes-base.telegram,
      typeVersion 1.2,
      position [
        -1120,
        -448
      ],
      id 00f7d415-b4eb-4d17-8fe6-15f05ce33270,
      name Get a file,
      webhookId 0d41511a-12fb-4f3c-a7ce-e1fb359de913,
      credentials {
        telegramApi {
          id X35cPM5jW5JYy08n,
          name Telegram account
        }
      }
    },
    {
      parameters {
        name imgusuario,
        driveId {
          __rl true,
          mode list,
          value My Drive
        },
        folderId {
          __rl true,
          mode list,
          value root,
          cachedResultName  (Root folder)
        },
        options {}
      },
      type n8n-nodes-base.googleDrive,
      typeVersion 3,
      position [
        -960,
        -448
      ],
      id 4cce9546-d320-4c01-8f83-50a88ac3c1a9,
      name Upload file,
      credentials {
        googleDriveOAuth2Api {
          id C5TluDdCys9B9LeO,
          name Google Drive account
        }
      }
    },
    {
      parameters {
        operation share,
        fileId {
          __rl true,
          value ={{ $json.id }},
          mode id
        },
        permissionsUi {
          permissionsValues {
            role reader,
            type anyone
          }
        },
        options {}
      },
      type n8n-nodes-base.googleDrive,
      typeVersion 3,
      position [
        -768,
        -448
      ],
      id 92958a4a-1e7d-421f-a3ab-a0dc164a24fe,
      name Share file1,
      credentials {
        googleDriveOAuth2Api {
          id C5TluDdCys9B9LeO,
          name Google Drive account
        }
      }
    },
    {
      parameters {
        method POST,
        url [REDACTED_GOOGLE_APP_SCRIPT_URL],
        sendBody true,
        specifyBody json,
        jsonBody ={n  docId {{ $('Get a document').item.json.documentId }},n  imageUrl {{ $('Upload file').item.json.webContentLink }},n  placeholder imgn} ,
        options {}
      },
      type n8n-nodes-base.httpRequest,
      typeVersion 4.2,
      position [
        -80,
        -448
      ],
      id bc3da646-781c-4015-af8c-d166c874379a,
      name HTTP Request1
    },
    {
      parameters {
        assignments {
          assignments [
            {
              id 0ce4318b-ae49-4aff-98a4-fae6daf63ff6,
              name IdConversa,
              value ={{ $json.message.from.id }},
              type number
            },
            {
              id af2ea38a-fb39-49b1-813d-5b1f32a3d4f0,
              name Mensagem,
              value ={{ $json.message.text }},
              type string
            },
            {
              id e6d51455-0087-48d7-977d-c2513152e63c,
              name message.photo[0].file_id,
              value ={{ $json.message.photo[0].file_id }},
              type string
            },
            {
              id 105c25c3-553d-44a6-852e-30d4e971702f,
              name EstadoAtual,
              value ={{ $json[Get row(s) in sheet].json.Estado  default }},
              type string
            },
            {
              id a448bed4-41d5-44d0-9ecd-387cd30931da,
              name audio,
              value ={{ $json.message.voice.file_id }},
              type string
            }
          ]
        },
        options {}
      },
      type n8n-nodes-base.set,
      typeVersion 3.4,
      position [
        -2368,
        -1168
      ],
      id 20839148-ef0d-4908-b336-2a669f331e93,
      name Edit Fields
    },
    {
      parameters {
        rules {
          values [
            {
              conditions {
                options {
                  caseSensitive true,
                  leftValue ,
                  typeValidation strict,
                  version 2
                },
                conditions [
                  {
                    id f0cc7fde-faf2-43e3-9590-38888de1548c,
                    leftValue ={{ $json.Estado }},
                    rightValue =,
                    operator {
                      type string,
                      operation equals,
                      name filter.operator.equals
                    }
                  }
                ],
                combinator and
              },
              renameOutput true,
              outputKey default
            },
            {
              conditions {
                options {
                  caseSensitive true,
                  leftValue ,
                  typeValidation strict,
                  version 2
                },
                conditions [
                  {
                    leftValue ={{ $json.Estado }},
                    rightValue =aguardando_texto_pdf,
                    operator {
                      type string,
                      operation equals
                    },
                    id a5bff5a1-1a38-4f54-87e8-b5b4483363d2
                  }
                ],
                combinator and
              },
              renameOutput true,
              outputKey Textoempdf
            },
            {
              conditions {
                options {
                  caseSensitive true,
                  leftValue ,
                  typeValidation strict,
                  version 2
                },
                conditions [
                  {
                    id c222efb1-0902-47d2-9009-8be82453e7ea,
                    leftValue ={{ $json.Estado }},
                    rightValue aguardando_texto_marcador,
                    operator {
                      type string,
                      operation equals
                    }
                  }
                ],
                combinator and
              },
              renameOutput true,
              outputKey inserirtexto
            },
            {
              conditions {
                options {
                  caseSensitive true,
                  leftValue ,
                  typeValidation strict,
                  version 2
                },
                conditions [
                  {
                    id 4681519f-cf5c-4ec2-aa16-a5243c164862,
                    leftValue ={{ $json.Estado }},
                    rightValue aguardando_envio_da_img,
                    operator {
                      type string,
                      operation equals,
                      name filter.operator.equals
                    }
                  }
                ],
                combinator and
              },
              renameOutput true,
              outputKey inserirImg
            },
            {
              conditions {
                options {
                  caseSensitive true,
                  leftValue ,
                  typeValidation strict,
                  version 2
                },
                conditions [
                  {
                    id 5dedabc3-11df-4c45-a956-5b6fa123f457,
                    leftValue ={{ $json.Estado }},
                    rightValue aguardando_envio_de_audio,
                    operator {
                      type string,
                      operation equals,
                      name filter.operator.equals
                    }
                  }
                ],
                combinator and
              },
              renameOutput true,
              outputKey transcrever_audio
            }
          ]
        },
        options {}
      },
      type n8n-nodes-base.switch,
      typeVersion 3.3,
      position [
        -1760,
        -1200
      ],
      id d7e70cfc-f26a-4828-831a-50e6069dd697,
      name Switch1
    },
    {
      parameters {
        operation appendOrUpdate,
        documentId {
          __rl true,
          value [REDACTED_GOOGLE_SHEET_ID_ESTADOS],
          mode list,
          cachedResultName EstadoBots,
          cachedResultUrl httpsdocs.google.comspreadsheetsd[REDACTED_GOOGLE_SHEET_ID_ESTADOS]editusp=drivesdk
        },
        sheetName {
          __rl true,
          value gid=0,
          mode list,
          cachedResultName Página1,
          cachedResultUrl httpsdocs.google.comspreadsheetsd[REDACTED_GOOGLE_SHEET_ID_ESTADOS]edit#gid=0
        },
        columns {
          mappingMode defineBelow,
          value {
            Estado aguardando_texto_pdf,
            ChatID ={{ $('Get row(s) in sheet').item.json.ChatID }}
          },
          matchingColumns [
            ChatID
          ],
          schema [
            {
              id ChatID,
              displayName ChatID,
              required false,
              defaultMatch false,
              display true,
              type string,
              canBeUsedToMatch true,
              removed false
            },
            {
              id Estado,
              displayName Estado,
              required false,
              defaultMatch false,
              display true,
              type string,
              canBeUsedToMatch true,
              removed false
            },
            {
              id DadosTemporarios,
              displayName DadosTemporarios,
              required false,
              defaultMatch false,
              display true,
              type string,
              canBeUsedToMatch true
            }
          ],
          attemptToConvertTypes false,
          convertFieldsToString false
        },
        options {}
      },
      type n8n-nodes-base.googleSheets,
      typeVersion 4.7,
      position [
        -544,
        -2048
      ],
      id 461eaf4c-0e3c-47f2-9f55-f4d23190b30e,
      name Append or update row in sheet,
      credentials {
        googleSheetsOAuth2Api {
          id myv1zEHnEPWaXp5Q,
          name Google Sheets account
        }
      }
    },
    {
      parameters {
        operation appendOrUpdate,
        documentId {
          __rl true,
          value [REDACTED_GOOGLE_SHEET_ID_ESTADOS],
          mode list,
          cachedResultName EstadoBots,
          cachedResultUrl httpsdocs.google.comspreadsheetsd[REDACTED_GOOGLE_SHEET_ID_ESTADOS]editusp=drivesdk
        },
        sheetName {
          __rl true,
          value gid=0,
          mode list,
          cachedResultName Página1,
          cachedResultUrl httpsdocs.google.comspreadsheetsd[REDACTED_GOOGLE_SHEET_ID_ESTADOS]edit#gid=0
        },
        columns {
          mappingMode defineBelow,
          value {
            Estado aguardando_texto_marcador,
            ChatID ={{ $json.result.chat.id }}
          },
          matchingColumns [
            ChatID
          ],
          schema [
            {
              id ChatID,
              displayName ChatID,
              required false,
              defaultMatch false,
              display true,
              type string,
              canBeUsedToMatch true,
              removed false
            },
            {
              id Estado,
              displayName Estado,
              required false,
              defaultMatch false,
              display true,
              type string,
              canBeUsedToMatch true
            },
            {
              id DadosTemporarios,
              displayName DadosTemporarios,
              required false,
              defaultMatch false,
              display true,
              type string,
              canBeUsedToMatch true
            }
          ],
          attemptToConvertTypes false,
          convertFieldsToString false
        },
        options {}
      },
      type n8n-nodes-base.googleSheets,
      typeVersion 4.7,
      position [
        -544,
        -1856
      ],
      id e40e7c2f-b15c-4d04-9d51-e3ba8071a3d2,
      name Append or update row in sheet1,
      credentials {
        googleSheetsOAuth2Api {
          id myv1zEHnEPWaXp5Q,
          name Google Sheets account
        }
      }
    },
    {
      parameters {
        operation copy,
        fileId {
          __rl true,
          value [REDACTED_GOOGLE_DOC_ID_MODELO_2],
          mode list,
          cachedResultName papel_timbrado_with_markers,
          cachedResultUrl httpsdocs.google.comdocumentd[REDACTED_GOOGLE_DOC_ID_MODELO_2]editusp=drivesdk
        },
        name usuario_markers_pdf,
        options {}
      },
      type n8n-nodes-base.googleDrive,
      typeVersion 3,
      position [
        -1120,
        -640
      ],
      id d55845a7-4b4c-4698-b935-bf05ab76172a,
      name Copy file2,
      credentials {
        googleDriveOAuth2Api {
          id C5TluDdCys9B9LeO,
          name Google Drive account
        }
      }
    },
    {
      parameters {
        operation update,
        documentURL ={{ $json.id }},
        actionsUi {
          actionFields [
            {
              action replaceAll,
              text texto,
              replaceText ={{ $('Edit Fields').item.json.Mensagem }}
            }
          ]
        }
      },
      type n8n-nodes-base.googleDocs,
      typeVersion 2,
      position [
        -912,
        -640
      ],
      id 6d594818-f495-4889-a68a-25dac4ae8dfa,
      name Update a document1,
      credentials {
        googleDocsOAuth2Api {
          id uKBTX6RUYb3SUNUi,
          name Google Docs account
        }
      }
    },
    {
      parameters {
        operation share,
        fileId {
          __rl true,
          value ={{ $json.documentId }},
          mode id
        },
        permissionsUi {
          permissionsValues {
            role writer,
            type anyone
          }
        },
        options {}
      },
      type n8n-nodes-base.googleDrive,
      typeVersion 3,
      position [
        -752,
        -640
      ],
      id 20e09cea-0e31-4e9b-9dd6-10def1864b37,
      name Share file3,
      credentials {
        googleDriveOAuth2Api {
          id C5TluDdCys9B9LeO,
          name Google Drive account
        }
      }
    },
    {
      parameters {
        operation appendOrUpdate,
        documentId {
          __rl true,
          value [REDACTED_GOOGLE_SHEET_ID_ESTADOS],
          mode list,
          cachedResultName EstadoBots,
          cachedResultUrl httpsdocs.google.comspreadsheetsd[REDACTED_GOOGLE_SHEET_ID_ESTADOS]editusp=drivesdk
        },
        sheetName {
          __rl true,
          value gid=0,
          mode list,
          cachedResultName Página1,
          cachedResultUrl httpsdocs.google.comspreadsheetsd1s42c0Q8Rlsfkq3DhRktE2VRfCYCvMs28XbVlH1fxITIedit#gid=0
        },
        columns {
          mappingMode defineBelow,
          value {
            ChatID ={{ $('Edit Fields').item.json.IdConversa }},
            Estado aguardando_envio_da_img,
            DadosTemporarios ={{ $('Update a document1').item.json.documentId }}
          },
          matchingColumns [
            ChatID
          ],
          schema [
            {
              id ChatID,
              displayName ChatID,
              required false,
              defaultMatch false,
              display true,
              type string,
              canBeUsedToMatch true,
              removed false
            },
            {
              id Estado,
              displayName Estado,
              required false,
              defaultMatch false,
              display true,
              type string,
              canBeUsedToMatch true
            },
            {
              id DadosTemporarios,
              displayName DadosTemporarios,
              required false,
              defaultMatch false,
              display true,
              type string,
              canBeUsedToMatch true
            }
          ],
          attemptToConvertTypes false,
          convertFieldsToString false
        },
        options {}
      },
      type n8n-nodes-base.googleSheets,
      typeVersion 4.7,
      position [
        -560,
        -640
      ],
      id 34a8c6f5-1aea-48e3-91e4-7a4ee0788291,
      name Append or update row in sheet3,
      credentials {
        googleSheetsOAuth2Api {
          id myv1zEHnEPWaXp5Q,
          name Google Sheets account
        }
      }
    },
    {
      parameters {
        operation appendOrUpdate,
        documentId {
          __rl true,
          value [REDACTED_GOOGLE_SHEET_ID_ESTADOS],
          mode list,
          cachedResultName EstadoBots,
          cachedResultUrl httpsdocs.google.comspreadsheetsd[REDACTED_GOOGLE_SHEET_ID_ESTADOS]editusp=drivesdk
        },
        sheetName {
          __rl true,
          value gid=0,
          mode list,
          cachedResultName Página1,
          cachedResultUrl httpsdocs.google.comspreadsheetsd1s42c0Q8Rlsfkq3DhRktE2VRfCYCvMs28XbVlH1fxITIedit#gid=0
        },
        columns {
          mappingMode defineBelow,
          value {
            ChatID ={{ $('Get row(s) in sheet').item.json.ChatID }},
            Estado ,
            DadosTemporarios 
          },
          matchingColumns [
            ChatID
          ],
          schema [
            {
              id ChatID,
              displayName ChatID,
              required false,
              defaultMatch false,
              display true,
              type string,
              canBeUsedToMatch true,
              removed false
            },
            {
              id Estado,
              displayName Estado,
              required false,
              defaultMatch false,
              display true,
              type string,
              canBeUsedToMatch true
            },
            {
              id DadosTemporarios,
              displayName DadosTemporarios,
              required false,
              defaultMatch false,
              display true,
              type string,
              canBeUsedToMatch true
            }
          ],
          attemptToConvertTypes false,
          convertFieldsToString false
        },
        options {}
      },
      type n8n-nodes-base.googleSheets,
      typeVersion 4.7,
      position [
        464,
        -448
      ],
      id 37109630-b3c5-4827-a27d-988d761371f3,
      name Append or update row in sheet4,
      credentials {
        googleSheetsOAuth2Api {
          id myv1zEHnEPWaXp5Q,
          name Google Sheets account
        }
      }
    },
    {
      parameters {
        documentId {
          __rl true,
          value [REDACTED_GOOGLE_SHEET_ID_ESTADOS],
          mode list,
          cachedResultName EstadoBots,
          cachedResultUrl httpsdocs.google.comspreadsheetsd[REDACTED_GOOGLE_SHEET_ID_ESTADOS]editusp=drivesdk
        },
        sheetName {
          __rl true,
          value gid=0,
          mode list,
          cachedResultName Página1,
          cachedResultUrl httpsdocs.google.comspreadsheetsd[REDACTED_GOOGLE_SHEET_ID_ESTADOS]edit#gid=0
        },
        filters {
          values [
            {
              column ChatID,
              value ={{ $('Edit Fields').item.json.IdConversa }}
            }
          ]
        },
        range AC,
        options {
          alwaysOutputData true
        }
      },
      type n8n-nodes-base.googleSheets,
      typeVersion 4.7,
      position [
        -2144,
        -1168
      ],
      id b3e04a58-86d1-419a-9af2-5e638d1726a4,
      name Get row(s) in sheet,
      credentials {
        googleSheetsOAuth2Api {
          id myv1zEHnEPWaXp5Q,
          name Google Sheets account
        }
      }
    },
    {
      parameters {
        chatId ={{ $('Edit Fields').item.json.IdConversa }},
        text Ok, me envie o áudio que você deseja transcrever.,
        replyMarkup =,
        forceReply {},
        replyKeyboardOptions {},
        replyKeyboardRemove {},
        additionalFields {
          appendAttribution false
        }
      },
      type n8n-nodes-base.telegram,
      typeVersion 1.2,
      position [
        -752,
        -1680
      ],
      id e44d3183-500b-4177-ad5f-e53b8fa3b53c,
      name Send a text message4,
      webhookId d583b3e8-ab62-40dc-b3b9-f24d6cc09ce0,
      notesInFlow false,
      retryOnFail false,
      alwaysOutputData false,
      credentials {
        telegramApi {
          id X35cPM5jW5JYy08n,
          name Telegram account
        }
      }
    },
    {
      parameters {
        operation appendOrUpdate,
        documentId {
          __rl true,
          value [REDACTED_GOOGLE_SHEET_ID_ESTADOS],
          mode list,
          cachedResultName EstadoBots,
          cachedResultUrl httpsdocs.google.comspreadsheetsd[REDACTED_GOOGLE_SHEET_ID_ESTADOS]editusp=drivesdk
        },
        sheetName {
          __rl true,
          value gid=0,
          mode list,
          cachedResultName Página1,
          cachedResultUrl httpsdocs.google.comspreadsheetsd1s42c0Q8Rlsfkq3DhRktE2VRfCYCvMs28XbVlH1fxITIedit#gid=0
        },
        columns {
          mappingMode defineBelow,
          value {
            ChatID ={{ $('Get row(s) in sheet').item.json.ChatID }},
            Estado aguardando_envio_de_audio
          },
          matchingColumns [
            ChatID
          ],
          schema [
            {
              id ChatID,
              displayName ChatID,
              required false,
              defaultMatch false,
              display true,
              type string,
              canBeUsedToMatch true,
              removed false
            },
            {
              id Estado,
              displayName Estado,
              required false,
              defaultMatch false,
              display true,
              type string,
              canBeUsedToMatch true
            },
            {
              id DadosTemporarios,
              displayName DadosTemporarios,
              required false,
              defaultMatch false,
              display true,
              type string,
              canBeUsedToMatch true
            }
          ],
          attemptToConvertTypes false,
          convertFieldsToString false
        },
        options {}
      },
      type n8n-nodes-base.googleSheets,
      typeVersion 4.7,
      position [
        -544,
        -1680
      ],
      id c71e86a0-8bb0-47b2-bd74-32694b2da7af,
      name Append or update row in sheet5,
      credentials {
        googleSheetsOAuth2Api {
          id myv1zEHnEPWaXp5Q,
          name Google Sheets account
        }
      }
    },
    {
      parameters {
        resource file,
        fileId ={{ $('Edit Fields').item.json.audio }},
        additionalFields {}
      },
      type n8n-nodes-base.telegram,
      typeVersion 1.2,
      position [
        -1120,
        -184
      ],
      id 6d15b03d-8153-433b-8519-5d67ba59f134,
      name Get a file1,
      webhookId 0d41511a-12fb-4f3c-a7ce-e1fb359de913,
      credentials {
        telegramApi {
          id X35cPM5jW5JYy08n,
          name Telegram account
        }
      }
    },
    {
      parameters {
        method POST,
        url httpsapi.gladia.ioaudiotextaudio-transcription,
        authentication headerAuth,
        authType n8n,
        sendBody true,
        specifyBody formData,
        bodyParameters {
          parameter [
            {
              name audio,
              value =data,
              type n8nBinaryFile,
              fileName ,
              mimeType ,
              id 038a834c-2834-4531-bcad-8f81016ec74a
            }
          ]
        },
        options {}
      },
      type n8n-nodes-base.httpRequest,
      typeVersion 4.2,
      position [
        -928,
        -184
      ],
      id b328a995-1f87-4340-9a2f-923f11d102ab,
      name HTTP Request2,
      credentials {
        httpHeaderAuth {
          id b3Q4z63S9eN3zU9e,
          name Gladia
        }
      }
    },
    {
      parameters {
        chatId ={{ $('Edit Fields').item.json.IdConversa }},
        text ={{ $json.prediction.map(segmento = segmento.transcription).join(' ') }}nn,
        replyMarkup =,
        forceReply {},
        replyKeyboardOptions {},
        replyKeyboardRemove {},
        additionalFields {
          appendAttribution false
        }
      },
      type n8n-nodes-base.telegram,
      typeVersion 1.2,
      position [
        -736,
        -184
      ],
      id eb5b62e4-e4c1-4b13-9bc7-c2576d33a69a,
      name Send a text message2,
      webhookId d583b3e8-ab62-40dc-b3b9-f24d6cc09ce0,
      notesInFlow false,
      retryOnFail false,
      alwaysOutputData false,
      credentials {
        telegramApi {
          id X35cPM5jW5JYy08n,
          name Telegram account
        }
      }
    },
    {
      parameters {
        operation appendOrUpdate,
        documentId {
          __rl true,
          value [REDACTED_GOOGLE_SHEET_ID_ESTADOS],
          mode list,
          cachedResultName EstadoBots,
          cachedResultUrl httpsdocs.google.comspreadsheetsd[REDACTED_GOOGLE_SHEET_ID_ESTADOS]editusp=drivesdk
        },
        sheetName {
          __rl true,
          value gid=0,
          mode list,
          cachedResultName Página1,
          cachedResultUrl httpsdocs.google.comspreadsheetsd1s42c0Q8Rlsfkq3DhRktE2VRfCYCvMs28XbVlH1fxITIedit#gid=0
        },
        columns {
          mappingMode defineBelow,
          value {
            ChatID ={{ $('Get row(s) in sheet').item.json.ChatID }},
            Estado ,
            DadosTemporarios 
          },
          matchingColumns [
            ChatID
          ],
          schema [
            {
              id ChatID,
              displayName ChatID,
              required false,
              defaultMatch false,
              display true,
              type string,
              canBeUsedToMatch true,
              removed false
            },
            {
              id Estado,
              displayName Estado,
              required false,
              defaultMatch false,
              display true,
              type string,
              canBeUsedToMatch true
            },
            {
              id DadosTemporarios,
              displayName DadosTemporarios,
              required false,
              defaultMatch false,
              display true,
              type string,
              canBeUsedToMatch true
            }
          ],
          attemptToConvertTypes false,
          convertFieldsToString false
        },
        options {}
      },
      type n8n-nodes-base.googleSheets,
      typeVersion 4.7,
      position [
        -528,
        -184
      ],
      id 51280385-d602-468b-a326-80f08985559c,
      name Append or update row in sheet2,
      credentials {
        googleSheetsOAuth2Api {
          id myv1zEHnEPWaXp5Q,
          name Google Sheets account
        }
      }
    },
    {
      parameters {
        method GET,
        url httpsg1.globo.comrssg1,
        responseType text,
        options {}
      },
      type n8n-nodes-base.httpRequest,
      typeVersion 4.2,
      position [
        -752,
        -1504
      ],
      id 981d3106-444f-404c-836f-e2230a103632,
      name HTTP Request
    },
    {
      parameters {
        jsCode  Pega a lista de notícias que veio do nó HTTP Requestnconst noticias = $json.rss.channel.item;nn Limita a lista para apenas as 5 primeirasnconst top5 = noticias.slice(0, 5);nnlet mensagemFormatada = Aqui estão as 5 principais notícias do G1nn;nn Loop para criar a mensagemnfor (const noticia of top5) {n   Adiciona o título e o link de cada notícian  mensagemFormatada += `• ${noticia.title} - ${noticia.link}nn`;n}nn Retorna a mensagem formatada para o próximo nónreturn {n  mensagemFinal mensagemFormatadan};n
      },
      type n8n-nodes-base.code,
      typeVersion 2,
      position [
        -320,
        -1504
      ],
      id 603de042-45e0-474c-8fce-7f1540306155,
      name Code
    },
    {
      parameters {
        chatId ={{ $('Edit Fields').item.json.IdConversa }},
        text ={{ $json.mensagemFinal }}n,
        replyMarkup =,
        forceReply {},
        replyKeyboardOptions {},
        replyKeyboardRemove {},
        additionalFields {
          disableWebPagePreview true,
          appendAttribution false
        }
      },
      type n8n-nodes-base.telegram,
      typeVersion 1.2,
      position [
        -128,
        -1504
      ],
      id b3e36123-e291-49fa-946f-c7c42f029a1c,
      name Send a text message3,
      webhookId d583b3e8-ab62-40dc-b3b9-f24d6cc09ce0,
      notesInFlow false,
      retryOnFail false,
      alwaysOutputData false,
      credentials {
        telegramApi {
          id X35cPM5jW5JYy08n,
          name Telegram account
        }
      }
    },
    {
      parameters {
        mode xmlToJson,
        xml ={{ $json.data }},
        options {}
      },
      type n8n-nodes-base.xml,
      typeVersion 1,
      position [
        -544,
        -1504
      ],
      id 670c52eb-614f-42e7-814d-3d463e85e492,
      name XML
    },
    {
      parameters {
        operation appendOrUpdate,
        documentId {
          __rl true,
          value [REDACTED_GOOGLE_SHEET_ID_ESTADOS],
          mode list,
          cachedResultName EstadoBots,
          cachedResultUrl httpsdocs.google.comspreadsheetsd[REDACTED_GOOGLE_SHEET_ID_ESTADOS]editusp=drivesdk
        },
        sheetName {
          __rl true,
          value gid=0,
          mode list,
          cachedResultName Página1,
          cachedResultUrl httpsdocs.google.comspreadsheetsd1s42c0Q8Rlsfkq3DhRktE2VRfCYCvMs28XbVlH1fxITIedit#gid=0
        },
        columns {
          mappingMode defineBelow,
          value {
            ChatID ={{ $('Get row(s) in sheet').item.json.ChatID }},
            Estado ,
            DadosTemporarios 
          },
          matchingColumns [
            ChatID
          ],
          schema [
            {
              id ChatID,
              displayName ChatID,
              required false,
              defaultMatch false,
              display true,
              type string,
              canBeUsedToMatch true,
              removed false
            },
            {
              id Estado,
              displayName Estado,
              required false,
              defaultMatch false,
              display true,
              type string,
              canBeUsedToMatch true
            },
            {
              id DadosTemporarios,
              displayName DadosTemporarios,
              required false,
              defaultMatch false,
              display true,
              type string,
              canBeUsedToMatch true
            }
          ],
          attemptToConvertTypes false,
          convertFieldsToString false
        },
        options {}
      },
      type n8n-nodes-base.googleSheets,
      typeVersion 4.7,
      position [
        64,
        -1504
      ],
      id 273a8da2-d1ce-4202-b2d9-d75d506d15b0,
      name Append or update row in sheet6,
      credentials {
        googleSheetsOAuth2Api {
          id myv1zEHnEPWaXp5Q,
          name Google Sheets account
        }
      }
    },
    {
      parameters {},
      type n8n-nodes-base.noOp,
      typeVersion 1,
      position [
        256,
        -1504
      ],
      id 2be8b32d-3d23-4556-bd46-5627f1c10729,
      name No Operation, do nothing6
    },
    {
      parameters {
        chatId ={{ $('Edit Fields').item.json.IdConversa }},
        text Comando inválido,
        replyMarkup =,
        forceReply {},
        replyKeyboardOptions {},
        replyKeyboardRemove {},
        additionalFields {
          appendAttribution false
        }
      },
      type n8n-nodes-base.telegram,
      typeVersion 1.2,
      position [
        -752,
        -1312
      ],
      id f5f5f724-c15c-4d55-8af4-c6af94200673,
      name Send a text message5,
      webhookId d583b3e8-ab62-40dc-b3b9-f24d6cc09ce0,
      notesInFlow false,
      retryOnFail false,
      alwaysOutputData false,
      credentials {
        telegramApi {
          id X35cPM5jW5JYy08n,
          name Telegram account
        }
      }
    },
    {
      parameters {},
      type n8n-nodes-base.noOp,
      typeVersion 1,
      position [
        -544,
        -1312
      ],
      id a66c0ac2-2e4a-43c3-8a39-a9a7978280f2,
      name No Operation, do nothing7
    },
    {
      parameters {
        chatId ={{ $('Edit Fields').item.json.IdConversa }},
        text Agora, mande a imagem para img.,
        replyMarkup =,
        forceReply {},
        replyKeyboardOptions {},
        replyKeyboardRemove {},
        additionalFields {
          appendAttribution false
        }
      },
      type n8n-nodes-base.telegram,
      typeVersion 1.2,
      position [
        -368,
        -640
      ],
      id 2d8f95c4-1188-4660-844c-11232813589b,
      name Send a text message6,
      webhookId d583b3e8-ab62-40dc-b3b9-f24d6cc09ce0,
      notesInFlow false,
      retryOnFail false,
      alwaysOutputData false,
      credentials {
        telegramApi {
          id X35cPM5jW5JYy08n,
          name Telegram account
        }
      }
    },
    {
      parameters {},
      type n8n-nodes-base.noOp,
      typeVersion 1,
      position [
        -176,
        -640
      ],
      id d0e19412-e8d9-4829-9e1e-af4c6225b128,
      name No Operation, do nothing
    },
    {
      parameters {
        operation get,
        documentURL ={{ $('Append or update row in sheet3').item.json.DadosTemporarios }},
        options {}
      },
      type n8n-nodes-base.googleDocs,
      typeVersion 2,
      position [
        -416,
        -448
      ],
      id b0cc2dd8-fa8c-443b-8519-74e2d364841b,
      name Get a document,
      credentials {
        googleDocsOAuth2Api {
          id uKBTX6RUYb3SUNUi,
          name Google Docs account
        }
      }
    },
    {
      parameters {
        operation sendDocument,
        chatId ={{ $('Edit Fields').item.json.IdConversa }},
        file ={{ $json[] }},
        additionalFields {}
      },
      type n8n-nodes-base.telegram,
      typeVersion 1.2,
      position [
        112,
        -448
      ],
      id 1be7737d-8472-4e92-990a-f0b4a45a16d5,
      name Send a document1,
      webhookId 24f9f7a5-42ec-4a1d-92f3-93599b94c3cd,
      credentials {
        telegramApi {
          id X35cPM5jW5JYy08n,
          name Telegram account
        }
      }
    },
    {
      parameters {
        assignments {
          assignments [
            {
              id 8482b8be-b3ac-4b07-a068-07e32d56c429,
              name ,
              value =httpsdocs.google.comdocumentd{{ $('Get a document').item.json.documentId }}exportformat=pdf ,
              type string
            }
          ]
        },
        options {}
      },
      type n8n-nodes-base.set,
      typeVersion 3.4,
      position [
        288,
        -448
      ],
      id 684d0b04-46b7-4f6c-85e3-47000d6df613,
      name Edit Fields1
    }
  ],
  connections {
    Telegram Trigger {
      main [
        [
          {
            node Edit Fields,
            type main,
            index 0
          }
        ]
      ]
    },
    Send a text message {
      main [
        [
          {
            node Append or update row in sheet,
            type main,
            index 0
          }
        ]
      ]
    },
    Switch {
      CriarDOCS [
        [
          {
            node Send a text message,
            type main,
            index 0
          }
        ]
      ],
      inserirTEXTOIMG [
        [
          {
            node Send a text message1,
            type main,
            index 0
          }
        ]
      ],
      buscarNoticia [
        [
          {
            node HTTP Request,
            type main,
            index 0
          }
        ]
      ],
      TranscreverAudio [
        [
          {
            node Send a text message4,
            type main,
            index 0
          }
        ]
      ],
      errorMessage [
        [
          {
            node f5f5f724-c15c-4d55-8af4-c6af94200673,
            type main,
            index 0
          }
        ]
      ]
    },
    Copy file {
      main [
        [
          {
            node Update a document,
            type main,
            index 0
          }
        ]
      ]
    },
    Update a document {
      main [
        [
          {
            node Share file,
            type main,
            index 0
          }
        ]
      ]
    },
    Send a document {
      main [
        [
          {
            node 396c32e3-34e8-48f2-81cd-84395912b23b,
            type main,
            index 0
          }
        ]
      ]
    },
    Share file {
      main [
        [
          {
            node Edit Fields2,
            type main,
            index 0
          }
        ]
      ]
    },
    Edit Fields2 {
      main [
        [
          {
            node Send a document,
            type main,
            index 0
          }
        ]
      ]
    },
    Send a text message1 {
      main [
        [
          {
            node Append or update row in sheet1,
            type main,
            index 0
          }
        ]
      ]
    },
    Append or update row in sheet1 {
      main [
        [
          {
            node bbda1970-6383-4abb-b075-6a39c4d47726,
            type main,
            index 0
          }
        ]
      ]
    },
    Get a file {
      main [
        [
          {
            node Upload file,
            type main,
            index 0
          }
        ]
      ]
    },
    Upload file {
      main [
        [
          {
            node Share file1,
            type main,
            index 0
          }
        ]
      ]
    },
    Share file1 {
      main [
        [
          {
            node b0cc2dd8-fa8c-443b-8519-74e2d364841b,
            type main,
            index 0
          }
        ]
      ]
    },
    HTTP Request1 {
      main [
        [
          {
            node 1be7737d-8472-4e92-990a-f0b4a45a16d5,
            type main,
            index 0
          }
        ]
      ]
    },
    Edit Fields {
      main [
        [
          {
            node b3e04a58-86d1-419a-9af2-5e638d1726a4,
            type main,
            index 0
          }
        ]
      ]
    },
    Switch1 {
      Textoempdf [
        [
          {
            node Copy file,
            type main,
            index 0
          }
        ]
      ],
      inserirtexto [
        [
          {
            node Copy file2,
            type main,
            index 0
          }
        ]
      ],
      inserirImg [
        [
          {
            node Get a file,
            type main,
            index 0
          }
        ]
      ],
      transcrever_audio [
        [
          {
            node Get a file1,
            type main,
            index 0
          }
        ]
      ]
    },
    Append or update row in sheet {
      main [
        [
          {
            node bbda1970-6383-4abb-b075-6a39c4d47726,
            type main,
            index 0
          }
        ]
      ]
    },
    Copy file2 {
      main [
        [
          {
            node Update a document1,
            type main,
            index 0
          }
        ]
      ]
    },
    Update a document1 {
      main [
        [
          {
            node Share file3,
            type main,
            index 0
          }
        ]
      ]
    },
    Share file3 {
      main [
        [
          {
            node Append or update row in sheet3,
            type main,
            index 0
          }
        ]
      ]
    },
    Append or update row in sheet3 {
      main [
        [
          {
            node 2d8f95c4-1188-4660-844c-11232813589b,
            type main,
            index 0
          }
        ]
      ]
    },
    Append or update row in sheet4 {
      main [
        [
          {
            node 684d0b04-46b7-4f6c-85e3-47000d6df613,
            type main,
            index 0
          }
        ]
      ]
    },
    b3e04a58-86d1-419a-9af2-5e638d1726a4 {
      main [
        [
          {
            node Switch,
            type main,
            index 0
          },
          {
            node Switch1,
            type main,
            index 0
          }
        ]
      ]
    },
    Send a text message4 {
      main [
        [
          {
            node Append or update row in sheet5,
            type main,
            index 0
          }
        ]
      ]
    },
    Append or update row in sheet5 {
      main [
        [
          {
            node bbda1970-6383-4abb-b075-6a39c4d47726,
            type main,
            index 0
          }
        ]
      ]
    },
    Get a file1 {
      main [
        [
          {
            node HTTP Request2,
            type main,
            index 0
          }
        ]
      ]
    },
    HTTP Request2 {
      main [
        [
          {
            node Send a text message2,
            type main,
            index 0
          }
        ]
      ]
    },
    Send a text message2 {
      main [
        [
          {
            node Append or update row in sheet2,
            type main,
            index 0
          }
        ]
      ]
    },
    Append or update row in sheet2 {
      main [
        [
          {
            node bbda1970-6383-4abb-b075-6a39c4d47726,
            typemain,
            index 0
          }
        ]
      ]
    },
    HTTP Request {
      main [
        [
          {
            node XML,
            type main,
            index 0
          }
        ]
      ]
    },
    Code {
      main [
        [
          {
            node Send a text message3,
            type main,
            index 0
          }
        ]
      ]
    },
    Send a text message3 {
      main [
        [
          {
            node 273a8da2-d1ce-4202-b2d9-d75d506d15b0,
            type main,
            index 0
          }
        ]
      ]
    },
    XML {
      main [
        [
          {
            node Code,
            type main,
            index 0
          }
        ]
      ]
    },
    273a8da2-d1ce-4202-b2d9-d75d506d15b0 {
      main [
        [
          {
            node 2be8b32d-3d23-4556-bd46-5627f1c10729,
            type main,
            index 0
          }
        ]
      ]
    },
    f5f5f724-c15c-4d55-8af4-c6af94200673 {
      main [
        [
          {
            node a66c0ac2-2e4a-43c3-8a39-a9a7978280f2,
            type main,
            index 0
          }
        ]
      ]
    },
    2d8f95c4-1188-4660-844c-11232813589b {
      main [
        [
          {
            node d0e19412-e8d9-4829-9e1e-af4c6225b128,
            type main,
            index 0
          }
        ]
      ]
    },
    b0cc2dd8-fa8c-443b-8519-74e2d364841b {
      main [
        [
          {
            node HTTP Request1,
            type main,
            index 0
          }
        ]
      ]
    },
    1be7737d-8472-4e92-990a-f0b4a45a16d5 {
      main [
        [
          {
            node 684d0b04-46b7-4f6c-85e3-47000d6df613,
            type main,
            index0
          }
        ]
      ]
    },
    684d0b04-46b7-4f6c-85e3-47000d6df613 {
      main [
        [
          {
            node 37109630-b3c5-4827-a27d-988d761371f3,
            type main,
            index 0
          }
        ]
      ]
    }
  }
}